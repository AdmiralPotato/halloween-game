<template>
  <div class="controls">
    <div class="score">
      <div>
        <svg class="icon" viewBox="0 0 32 32">
          <g class="candy">
            <path style="fill:#FEEB39;"
                  d="M25.308,9.152c-0.04-0.38-0.08-0.759-0.12-1.139c0.073-0.596-0.1-1.094-0.476-1.579 c-0.573-0.74-1.071-1.539-1.606-2.321c0.015-0.008-0.035,0.002-0.057,0.031c-1.005,1.357-2.011,2.712-3.003,4.079 c-0.069,0.095-0.026,0.27-0.035,0.408c0,0-0.001,0-0.001,0.001c-0.377,0.234-0.665,0.52-0.605,1.014l0.009,0.001 c-0.032,0.049-0.064,0.098-0.096,0.146c-0.012,0.255-0.024,0.51-0.035,0.765c-0.124-0.001-0.247-0.001-0.371-0.002l0,0 c-0.056-0.008-0.111-0.016-0.167-0.023c-1.397-0.308-2.789-0.977-4.199-0.046c-0.475,0.191-0.951,0.383-1.426,0.574 c-0.029-0.016-0.053-0.01-0.07,0.019c-0.051,0.039-0.101,0.077-0.152,0.116c0,0,0.007-0.021,0.007-0.021 c-0.232,0.202-0.501,0.375-0.688,0.612c-0.416,0.525-0.771,1.098-1.188,1.621c-0.355,0.445-0.579,0.911-0.512,1.49 c-0.032,0.228-0.093,0.457-0.089,0.685c0.015,0.801-0.391,1.609,0.036,2.412c0.022,0.041-0.225,0.224-0.346,0.34 c-0.171,0.009-0.342,0.019-0.513,0.028C8.997,18.267,8.45,18.408,7.9,18.693c-1.053,0.545-2.147,1.012-3.199,1.558 c-0.461,0.239-0.862,0.593-1.29,0.895c-0.058,0.002-0.116,0.004-0.174,0.005c0.301,0.336,0.602,0.671,0.903,1.007l1.31,1.003 c0.632,0.282,1.27,0.552,1.892,0.854c0.211,0.103,0.458,0.25,0.556,0.444c0.208,0.412,0.329,0.869,0.485,1.307 c0.288,0.606,0.571,1.215,0.869,1.816c0.06,0.122,0.179,0.306,0.271,0.306c0.531-0.001,1.063-0.048,1.594-0.08l0,0 c0.03-0.054,0.059-0.107,0.089-0.161l0.068-0.232c0.086-0.21,0.171-0.42,0.257-0.63c0.254-0.301,0.507-0.601,0.761-0.902 c0.206-0.228,0.412-0.456,0.618-0.684l0.045,0.001L13,25.201c0.478-0.783,1.396-1.319,1.339-2.4 c0.252,0.033,0.504,0.065,0.756,0.098c0.126,0.016,0.252,0.033,0.378,0.049c1.072,0.305,2.062,0.269,3.178-0.114 c1.732-0.594,2.85-1.705,3.703-3.217c0.059-0.104,0.17-0.178,0.257-0.265c0.035-0.341,0.071-0.683,0.106-1.024l0.146-1.131 c-0.034-0.554-0.067-1.108-0.101-1.662c0.903,0.072,1.507-0.506,2.153-0.992l1.019-0.775c0.228-0.121,0.455-0.243,0.683-0.364 c0.069-0.018,0.137-0.036,0.206-0.055c0.054-0.014,0.11-0.024,0.168-0.033c0.229-0.034,0.473-0.038,0.667-0.138 c0.146-0.075,0.263-0.203,0.324-0.439c0.236-0.364,0.473-0.728,0.779-1.201C27.596,10.732,26.452,9.942,25.308,9.152z"/>
            <path style="fill:#FB691A;"
                  d="M4.14,22.158c-0.301-0.336-0.602-0.671-0.903-1.007c0.058-0.002,0.116-0.004,0.174-0.005 c0.334-0.015,0.677,0.01,1.002-0.053c1.109-0.215,2.147-0.236,2.874,0.839c0.404,0.718,0.808,1.436,1.212,2.155 c0.107,0.252,0.23,0.498,0.318,0.757c0.272,0.796,0.605,1.53,1.543,1.729c0.222,0.359,0.445,0.718,0.667,1.077 c0.03,0.053,0.059,0.107,0.089,0.16c-0.531,0.032-1.063,0.079-1.594,0.08c-0.092,0-0.21-0.184-0.271-0.306 c-0.298-0.601-0.581-1.21-0.869-1.816c-0.157-0.438-0.277-0.895-0.485-1.307c-0.098-0.194-0.345-0.342-0.556-0.444 c-0.622-0.302-1.26-0.572-1.892-0.854C5.013,22.827,4.577,22.493,4.14,22.158z"/>
            <path style="fill:#FDA728;"
                  d="M23.865,13.082c-0.79-0.322-1.139-1.103-1.338-1.887c-0.398-1.56-0.584-1.663-2.06-0.962 c-0.342,0.162-0.692,0.306-1.039,0.459c-0.002,0.042,0,0.083,0.006,0.125c0.671,0.607,1.441,1.138,1.984,1.844 c0.456,0.593,0.648,1.389,0.957,2.095c0.13,0.259,0.259,0.518,0.389,0.776c0.903,0.072,1.507-0.506,2.153-0.992 C24.919,13.799,24.577,13.373,23.865,13.082z M13.148,21.162c-0.522-0.245-0.979-0.605-0.959-1.209 c0.021-0.644-0.31-0.958-0.797-1.22c-0.407,0.426-0.803,0.864-1.225,1.275c-0.273,0.265-0.351,0.511-0.094,0.826 c0.079,0.097,0.135,0.217,0.18,0.336c0.35,0.929,0.993,1.362,2.005,1.272c0.2-0.018,0.419,0.182,0.629,0.282 c-0.157,0.241-0.314,0.482-0.471,0.722c-0.003,0.127-0.007,0.253-0.01,0.38c0.168,0.459,0.336,0.917,0.504,1.376l0.045,0.001 L13,25.201c0.478-0.783,1.396-1.319,1.339-2.4c-0.214-0.378-0.407-0.77-0.651-1.128C13.551,21.473,13.331,21.33,13.148,21.162z"/>
            <path style="fill:#FDDE36;"
                  d="M13.712,17.365c-0.084,0.061-0.149,0.148-0.225,0.221c-0.518,0.499-0.722,0.453-0.952-0.228 c-0.06-0.178-0.086-0.367-0.128-0.551c-0.073-0.07-0.197-0.131-0.211-0.211c-0.305-1.724-0.247-3.383,1.227-4.601 c0.344-0.284,0.927-0.278,1.401-0.405c-0.04-0.171-0.079-0.342-0.119-0.513c-0.528-0.005-1.055-0.01-1.583-0.015 c-0.029-0.016-0.053-0.01-0.07,0.019c-0.051,0.039-0.101,0.077-0.152,0.116c0,0,0.007-0.021,0.007-0.021 c-0.217,0.379-0.396,0.787-0.659,1.13c-0.624,0.811-1.279,1.594-1.135,2.722c0.006,0.05-0.051,0.108-0.105,0.214 c-0.173-0.122-0.331-0.232-0.488-0.343c-0.031,0.228-0.093,0.457-0.089,0.685c0.015,0.801-0.391,1.609,0.036,2.412 c0.022,0.041-0.225,0.224-0.346,0.34c-0.332,0.524-0.669,1.045-0.991,1.575c-0.114,0.188-0.192,0.398-0.286,0.599 c0.438-0.486,0.848-1,1.323-1.446c0.271-0.254,0.647-0.397,0.975-0.591c0.085,0.087,0.169,0.173,0.254,0.26 c0.486,0.262,0.817,0.576,0.797,1.22c-0.019,0.604,0.437,0.964,0.959,1.209c0.35-0.345,0.7-0.69,1.05-1.035 c-0.953-0.925-0.925-0.884,0.232-1.672c0.62-0.422,1.127-1.012,1.685-1.527c-0.128-0.337-0.256-0.674-0.384-1.011 C15.058,16.399,14.383,16.879,13.712,17.365z M25.949,11.743c-0.656,0.14-0.908-0.227-1.105-0.668 c-0.236-0.529-0.478-1.084-0.555-1.65c-0.169-1.243-0.551-1.552-1.734-1.349c-0.563,0.096-1.151,0.045-1.727,0.061 c-0.272,0.165-0.543,0.33-0.816,0.495c-0.377,0.234-0.665,0.52-0.605,1.014l0.4,0.023c0.001-0.042,0.001-0.083,0.002-0.125 c0.14-0.494,0.502-0.693,0.979-0.764c0.477-0.071,0.956-0.146,1.424-0.258c1.041-0.248,1.497,0.034,1.526,1.112 c0.018,0.683,0.275,1.215,0.651,1.74c0.303,0.424,0.607,0.755,1.212,0.761c0.437,0.004,0.767,0.313,0.843,0.808 c0.024,0.158,0.115,0.306,0.175,0.459c0.069-0.018,0.137-0.036,0.206-0.055c0.021-0.167,0.044-0.334,0.064-0.501 C26.952,12.313,26.451,11.636,25.949,11.743z M10.19,23.581c-0.714,0.036-1.105-0.301-1.302-0.947 c-0.049-0.161-0.079-0.365-0.192-0.463c-0.515-0.444-0.481-0.906-0.111-1.407c-0.165,0.121-0.417,0.209-0.477,0.369 c-0.115,0.309-0.287,0.811-0.145,0.964c0.585,0.63,0.599,1.741,1.637,1.976c0.101,0.023,0.211,0.006,0.317,0.007 c0.233,0.001,0.466-0.002,0.699,0.001c0.773,0.01,0.844,0.114,0.523,0.8c-0.06,0.128-0.171,0.232-0.259,0.347 c-0.044,0.126-0.088,0.252-0.132,0.378c0.175,0.603,0.349,1.206,0.524,1.809c0.086-0.21,0.171-0.42,0.257-0.63 c-0.414-1.053-0.15-2.072,0.324-3.131C11.191,23.622,10.688,23.556,10.19,23.581z M11.117,27.809 c0.03-0.054,0.059-0.107,0.089-0.161c-0.059,0-0.119,0.001-0.178,0.001C11.058,27.703,11.088,27.756,11.117,27.809z M17.773,11.077 c0.001,0.128,0.001,0.255,0.002,0.383c0.385,0.089,0.858,0.067,1.138,0.288c0.652,0.516,1.232,1.13,1.787,1.754 c0.091,0.103-0.018,0.547-0.169,0.675c-0.62,0.528-1.288,1-1.949,1.478c-0.11,0.08-0.273,0.087-0.411,0.128 c0.164,0.555,0.329,1.11,0.493,1.666c0.249-0.102,0.528-0.162,0.741-0.315c0.629-0.449,1.133-1.1,2.006-1.129 c0.093-0.003,0.272-0.216,0.254-0.294c-0.182-0.753-0.221-1.623-0.642-2.218C20.227,12.37,19.356,11.203,17.773,11.077z"/>
            <path style="fill:#FEFE91;"
                  d="M15.214,13.926c-0.044-0.057-0.088-0.114-0.132-0.171c-0.093-0.599-0.185-1.197-0.278-1.796 c0.016-0.034,0.03-0.069,0.041-0.105c0.937-0.446,1.894-0.666,2.906-0.253c0.004,0.163,0.009,0.326,0.013,0.489 c-0.478,0.298-0.972,0.575-1.43,0.902C15.94,13.273,15.586,13.612,15.214,13.926z"/>
            <path style="fill:#FEC32F;"
                  d="M24.529,12.42c-0.078,0.003-0.189-0.105-0.235-0.188c-0.402-0.733-0.969-1.362-1.086-2.263 c-0.132-1.02-0.455-1.14-1.42-0.861c-0.647,0.187-1.318,0.293-1.978,0.435c-0.001,0.042-0.002,0.083-0.002,0.125 c-0.133,0.306-0.266,0.612-0.399,0.918c0.005,0.035,0.011,0.07,0.019,0.105c0.346-0.152,0.697-0.296,1.039-0.459 c1.476-0.702,1.662-0.599,2.06,0.962c0.2,0.784,0.549,1.565,1.338,1.887c0.712,0.291,1.054,0.717,1.052,1.459 c0.34-0.258,0.68-0.516,1.019-0.775C25.686,13.09,25.465,12.388,24.529,12.42z M11.965,24.923c0.08,0.328,0.216,0.641,0.327,0.961 c0.206-0.228,0.412-0.456,0.618-0.684c-0.168-0.459-0.336-0.917-0.503-1.376C11.849,24.025,11.853,24.466,11.965,24.923z M15.981,21.27c0.128-0.132,0.352-0.253,0.368-0.397c0.075-0.669,0.093-1.344,0.131-2.016c-0.719,0.425-1.439,0.85-2.158,1.275 C14.875,20.511,15.428,20.89,15.981,21.27z M12.887,22.723c-0.21-0.099-0.429-0.299-0.629-0.282 c-1.013,0.09-1.655-0.344-2.005-1.272c-0.045-0.118-0.101-0.239-0.18-0.336c-0.257-0.314-0.178-0.561,0.094-0.826 c0.423-0.41,0.818-0.848,1.225-1.275c-0.085-0.087-0.169-0.173-0.254-0.26c-0.387,0.408-0.782,0.809-1.16,1.226 c-0.355,0.391-0.904,0.763-0.976,1.207c-0.068,0.415,0.422,0.899,0.587,1.379c0.255,0.741,0.811,0.876,1.49,0.915 c0.449,0.026,0.892,0.16,1.337,0.245C12.573,23.204,12.73,22.964,12.887,22.723z"/>
            <path style="fill:#FECF32;"
                  d="M26.444,12.943c-0.075-0.495-0.406-0.804-0.843-0.808c-0.605-0.006-0.908-0.337-1.212-0.761 c-0.375-0.524-0.632-1.057-0.651-1.74c-0.029-1.078-0.485-1.36-1.526-1.112c-0.469,0.112-0.947,0.187-1.424,0.258 c-0.477,0.071-0.839,0.27-0.979,0.764c0.66-0.142,1.331-0.248,1.978-0.435c0.965-0.279,1.288-0.159,1.42,0.861 c0.117,0.9,0.684,1.53,1.086,2.263c0.046,0.084,0.157,0.191,0.235,0.188c0.936-0.032,1.157,0.67,1.407,1.346 c0.228-0.121,0.455-0.243,0.683-0.364C26.559,13.249,26.468,13.101,26.444,12.943z M19.407,9.646l0.009,0.001 c0.001-0.001,0.001-0.002,0.002-0.003L19.407,9.646z M19.807,9.669l-0.391-0.022c-0.032,0.049-0.064,0.098-0.096,0.146 c-0.012,0.255-0.024,0.51-0.035,0.765c0.042,0.01,0.083,0.019,0.124,0.029C19.542,10.281,19.675,9.975,19.807,9.669z M9.589,22.285 c-0.166-0.48-0.655-0.964-0.587-1.379c0.073-0.444,0.621-0.816,0.976-1.207c0.378-0.416,0.773-0.818,1.16-1.226 c-0.329,0.193-0.704,0.336-0.975,0.591c-0.475,0.446-0.886,0.96-1.323,1.446c-0.085,0.085-0.17,0.17-0.255,0.256 c-0.37,0.501-0.404,0.963,0.111,1.407c0.113,0.098,0.143,0.302,0.192,0.463c0.197,0.645,0.587,0.983,1.302,0.947 c0.498-0.026,1.002,0.041,1.666,0.074c-0.474,1.059-0.738,2.078-0.324,3.131c0.254-0.301,0.507-0.601,0.761-0.902 c-0.111-0.32-0.247-0.634-0.327-0.961c-0.111-0.457-0.116-0.898,0.441-1.099c0.003-0.127,0.007-0.253,0.01-0.38 c-0.445-0.086-0.888-0.219-1.337-0.245C10.4,23.161,9.844,23.026,9.589,22.285z M18.913,11.748c-0.28-0.222-0.753-0.2-1.138-0.288 c-0.008,0.047-0.015,0.094-0.023,0.141c0.004,0.163,0.009,0.326,0.013,0.489c0.135,1.231,0.27,2.462,0.405,3.693 c0.138-0.041,0.301-0.048,0.411-0.128c0.661-0.478,1.329-0.951,1.949-1.478c0.151-0.128,0.261-0.572,0.169-0.675 C20.145,12.878,19.565,12.264,18.913,11.748z M14.43,18.455c-1.157,0.788-1.185,0.748-0.232,1.672 c0.041,0.002,0.083,0.003,0.124,0.004c0.719-0.425,1.439-0.85,2.158-1.275c-0.122-0.643-0.244-1.285-0.365-1.928 C15.557,17.443,15.05,18.032,14.43,18.455z M12.407,16.807c0.002-0.168,0.005-0.337,0.007-0.505 c-0.148-1.598,0.613-2.833,1.617-3.952c0.18-0.2,0.512-0.264,0.774-0.39c0.016-0.034,0.029-0.069,0.041-0.105 c-0.008-0.088-0.015-0.176-0.023-0.264c-0.473,0.127-1.057,0.121-1.401,0.405c-1.473,1.219-1.532,2.877-1.227,4.601 C12.21,16.676,12.334,16.737,12.407,16.807z"/>
            <path style="fill:#FDFD3E;"
                  d="M22.375,14.756c-0.047,0.158-0.165,0.336-0.129,0.472c0.288,1.088-0.555,1.738-0.964,2.553 c-0.051,0.101-0.233,0.248-0.277,0.225c-0.751-0.396-1.259,0.286-1.888,0.406c-0.059,0.011-0.123,0.002-0.275,0.002 c-0.059-0.321-0.118-0.644-0.177-0.966c-0.164-0.555-0.329-1.11-0.493-1.666c-0.135-1.231-0.27-2.462-0.405-3.693 c-0.478,0.298-0.972,0.575-1.43,0.902c-0.395,0.282-0.749,0.621-1.121,0.935c0.172,0.664,0.344,1.327,0.517,1.991 c0.128,0.337,0.256,0.674,0.384,1.011c0.122,0.643,0.243,1.286,0.365,1.928c-0.038,0.673-0.056,1.348-0.131,2.016 c-0.016,0.144-0.24,0.266-0.368,0.397c-0.098,0.194-0.145,0.474-0.303,0.567c-0.528,0.312-0.642,0.646-0.205,1.11 c1.072,0.305,2.062,0.269,3.178-0.114c1.732-0.594,2.85-1.705,3.703-3.217c0.059-0.104,0.17-0.178,0.257-0.265 c0.035-0.341,0.071-0.683,0.106-1.024l0.146-1.131l-0.101-1.662C22.634,15.274,22.504,15.015,22.375,14.756z M7.9,18.693 c-1.053,0.545-2.147,1.012-3.199,1.558c-0.461,0.239-0.862,0.593-1.29,0.895c0.334-0.015,0.677,0.01,1.002-0.053 c1.109-0.215,2.147-0.236,2.874,0.839l2.318-3.569C8.997,18.267,8.45,18.408,7.9,18.693z M23.107,4.113 c0.015-0.008-0.035,0.002-0.057,0.031c-1.005,1.357-2.011,2.712-3.003,4.079c-0.069,0.095-0.026,0.27-0.035,0.409 c0.272-0.165,0.543-0.33,0.815-0.495c0.343-0.253,0.653-0.601,1.038-0.735c0.546-0.191,1.155-0.195,1.722-0.336 c0.523-0.13,0.902-0.061,1.156,0.465c0.091,0.189,0.293,0.323,0.445,0.483c0.073-0.596-0.1-1.094-0.476-1.579 C24.14,5.694,23.642,4.895,23.107,4.113z M14.823,11.59c0.008,0.088,0.015,0.176,0.023,0.264c0.937-0.446,1.894-0.666,2.906-0.253 c0.008-0.047,0.015-0.094,0.023-0.141c-0.001-0.128-0.002-0.255-0.002-0.383c-0.019-0.355,0.089-0.549,0.501-0.468 c0.147,0.029,0.315-0.048,0.473-0.076c-1.397-0.308-2.789-0.977-4.199-0.046c0.052,0.196,0.104,0.393,0.157,0.589 C14.744,11.247,14.783,11.418,14.823,11.59z M25.308,9.152c0.103,0.516,0.167,1.044,0.321,1.544 c0.13,0.422,0.459,0.603,0.907,0.407c0.52-0.227,0.888-0.014,1.094,0.444c0.168,0.374,0.239,0.792,0.353,1.191 c0.236-0.364,0.473-0.728,0.779-1.201C27.596,10.732,26.452,9.942,25.308,9.152z M19.428,10.692 c-0.008-0.035-0.014-0.07-0.019-0.105c-0.041-0.01-0.083-0.019-0.124-0.029c-0.124-0.001-0.247-0.001-0.371-0.002 c0.173,0.087,0.347,0.174,0.52,0.261C19.428,10.776,19.426,10.734,19.428,10.692z M10.565,24.465 c-0.693-0.1-1.378-0.25-2.066-0.378c0.107,0.252,0.23,0.498,0.318,0.757c0.272,0.796,0.605,1.53,1.543,1.729 c0.13-0.322,0.26-0.643,0.389-0.965c0.044-0.126,0.088-0.252,0.132-0.378C10.866,24.939,11.147,24.549,10.565,24.465z M14.031,12.349c-1.004,1.119-1.766,2.354-1.617,3.952c0.249-0.286,0.545-0.545,0.739-0.865c0.469-0.773,1.098-1.338,1.93-1.682 c-0.093-0.599-0.185-1.197-0.278-1.796C14.543,12.085,14.211,12.149,14.031,12.349z"/>
          </g>
        </svg>
        <span>: {{$store.getters.score}}</span>
      </div>
      <div>
        <svg class="icon" viewBox="0 0 32 32">
          <path fill="#ddd" :d="$options.buttons[3].path" />
        </svg>
        <span>: {{$store.getters.moves}}</span>
      </div>
    </div>
    <div
      class="menu-toggle"
    >
      <div
        class="control"
        @mousedown.prevent.stop="$store.dispatch('mode', 'levelSelect')"
        @touchstart.prevent.stop="$store.dispatch('mode', 'levelSelect')"
      >
        <svg viewBox="0 0 32 32">
          <path d="M23.374,8.626H8.626 c-0.393,0-0.712,0.319-0.712,0.712v1.508c0,0.393,0.319,0.712,0.712,0.712h14.747c0.393,0,0.712-0.319,0.712-0.712V9.338 C24.086,8.945,23.767,8.626,23.374,8.626z M23.374,14.534H8.626c-0.393,0-0.712,0.319-0.712,0.712v1.508 c0,0.393,0.319,0.712,0.712,0.712h14.747c0.393,0,0.712-0.319,0.712-0.712v-1.508C24.086,14.853,23.767,14.534,23.374,14.534z M23.374,20.441H8.626c-0.393,0-0.712,0.319-0.712,0.712v1.508c0,0.393,0.319,0.712,0.712,0.712h14.747 c0.393,0,0.712-0.319,0.712-0.712v-1.508C24.086,20.76,23.767,20.441,23.374,20.441z" />
        </svg>
      </div>
    </div>
    <div class="arrows">
      <div class="relative">
        <div
          v-for="item in $options.buttons"
          :key="item.action"
          class="control-spacer"
          :class="item.direction"
        >
          <div
            class="control"
            @touchstart.prevent.stop="$store.dispatch('move', item.direction)"
            @mousedown.prevent.stop="$store.dispatch('move', item.direction)"
          >
            <svg viewBox="0 0 32 32">
              <path :d="item.path" />
            </svg>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
const keyMap = {
  'ArrowUp': 'up',
  'ArrowDown': 'down',
  'ArrowLeft': 'left',
  'ArrowRight': 'right',
  'w': 'up',
  's': 'down',
  'a': 'left',
  'd': 'right',
  'W': 'up',
  'S': 'down',
  'A': 'left',
  'D': 'right',
  '8': 'up',
  '2': 'down',
  '5': 'down',
  '4': 'left',
  '6': 'right'
}
export default {
  name: 'Controls',
  buttons: [
    {
      direction: 'up',
      path: 'M23.497,12.822l-3.702,1.028 c-0.369,0.102-0.614,0.45-0.587,0.832l0.837,11.723c0.036,0.505-0.399,0.918-0.902,0.855l-5.956-0.744 c-0.402-0.05-0.704-0.392-0.704-0.798V13.436c0-0.393-0.284-0.728-0.672-0.793l-3.225-0.538c-0.694-0.116-0.915-1.003-0.357-1.431 l7.532-5.775c0.311-0.238,0.748-0.218,1.035,0.048l7.031,6.51C24.29,11.885,24.103,12.654,23.497,12.822z'
    },
    {
      direction: 'down',
      path: 'M8.503,19.178l3.702-1.028 c0.369-0.102,0.614-0.45,0.587-0.832L11.954,5.595c-0.036-0.505,0.399-0.918,0.902-0.855l5.956,0.744 c0.402,0.05,0.704,0.392,0.704,0.798v12.282c0,0.393,0.284,0.728,0.672,0.793l3.225,0.538c0.694,0.116,0.915,1.003,0.357,1.431 l-7.532,5.775c-0.311,0.238-0.748,0.218-1.035-0.048l-7.031-6.51C7.71,20.115,7.897,19.346,8.503,19.178z'
    },
    {
      direction: 'left',
      path: 'M12.822,8.503l1.028,3.702 c0.102,0.369,0.45,0.614,0.832,0.587l11.723-0.837c0.505-0.036,0.918,0.399,0.855,0.902l-0.744,5.956 c-0.05,0.402-0.392,0.704-0.798,0.704H13.436c-0.393,0-0.728,0.284-0.793,0.672l-0.538,3.225c-0.116,0.694-1.003,0.915-1.431,0.357 l-5.775-7.532c-0.238-0.311-0.218-0.748,0.048-1.035l6.51-7.031C11.885,7.71,12.654,7.897,12.822,8.503z'
    },
    {
      direction: 'right',
      path: 'M19.178,23.497l-1.028-3.702 c-0.102-0.369-0.45-0.614-0.832-0.587L5.595,20.046c-0.505,0.036-0.918-0.399-0.855-0.902l0.744-5.956 c0.05-0.402,0.392-0.704,0.798-0.704h12.282c0.393,0,0.728-0.284,0.793-0.672l0.538-3.225c0.116-0.694,1.003-0.915,1.431-0.357 l5.775,7.532c0.238,0.311,0.218,0.748-0.048,1.035l-6.51,7.031C20.115,24.29,19.346,24.103,19.178,23.497z'
    }
  ],
  mounted () {
    window.document.body.addEventListener('keydown', this.handleKeydown)
  },
  destroyed () {
    window.document.body.removeEventListener('keydown', this.handleKeydown)
  },
  methods: {
    handleKeydown (event) {
      const direction = keyMap[event.key]
      if (direction) {
        event.preventDefault()
        event.stopPropagation()
        this.$store.dispatch('move', direction)
      }
    }
  }
}
</script>

<style lang="scss" scoped>
.controls {
  .score {
    position: absolute;
    top: 0.5rem;
    left: 0.5rem;
    border-radius: 1rem;
    background-color: #40408a;
    & > div {
      position: relative;
      svg.icon {
        position: absolute;
        left: -0.5rem;
        top: 0;
        display: block;
        width: 3rem;
        height: 3rem;
      }
      span {
        padding-left: 2.5rem;
        display: inline-block;
        line-height: 3rem;
        font-size: 2rem;
      }
    }
    padding: 0 1rem;
  }
  .menu-toggle {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
  }
  .arrows {
    position: absolute;
    bottom: 0.5rem;
    right: 0.5rem;
    overflow: hidden;
    z-index: 2;
    .relative {
      position: relative;
      height: 9.5rem;
      width: 14rem;
      .control-spacer {
        position: absolute;
        display: block;
        width: 4rem;
        height: 4rem;
        padding: 0.5rem;
        margin: auto;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        &.up { bottom: auto; }
        &.down { top: auto; }
        &.left { right: auto;  top: auto;}
        &.right { left: auto;  top: auto;}
      }
    }
  }
}
</style>
